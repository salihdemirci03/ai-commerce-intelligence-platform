# =============================================================================
# AI-Commerce Intelligence Platform - Environment Configuration
# =============================================================================

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME=Commerce Intelligence Platform
APP_VERSION=1.0.0
ENVIRONMENT=development  # development | staging | production
DEBUG=true
LOG_LEVEL=INFO

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_BASE_URL=http://localhost:8000
API_V1_PREFIX=/api/v1
FRONTEND_URL=http://localhost:3000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/commerce_intelligence
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_ECHO=false

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_TTL=3600  # seconds
REDIS_MAX_CONNECTIONS=50

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================
# JWT Settings
SECRET_KEY=your-super-secret-key-change-in-production-min-32-chars
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# OAuth 2.0
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# Password Requirements
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=true

# =============================================================================
# AI & LLM CONFIGURATION
# =============================================================================
# OpenAI
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=4096
OPENAI_EMBEDDING_MODEL=text-embedding-3-large

# Alternative LLM (for cost optimization)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key
ANTHROPIC_MODEL=claude-3-opus-20240229

# Vector Store
PINECONE_API_KEY=your-pinecone-api-key
PINECONE_ENVIRONMENT=us-west1-gcp
PINECONE_INDEX_NAME=commerce-intelligence

# Agent Configuration
AGENT_TIMEOUT_SECONDS=300
AGENT_MAX_RETRIES=3
AGENT_CONCURRENT_LIMIT=5

# =============================================================================
# MARKETPLACE INTEGRATIONS
# =============================================================================
# Amazon Seller API
AMAZON_SP_API_ACCESS_KEY=your-amazon-access-key
AMAZON_SP_API_SECRET_KEY=your-amazon-secret-key
AMAZON_SP_API_REFRESH_TOKEN=your-refresh-token
AMAZON_SP_API_REGION=us-east-1
AMAZON_MARKETPLACE_ID=ATVPDKIKX0DER

# Shopify
SHOPIFY_API_KEY=your-shopify-api-key
SHOPIFY_API_SECRET=your-shopify-api-secret
SHOPIFY_ACCESS_TOKEN=shpat_your-access-token
SHOPIFY_SHOP_NAME=your-shop.myshopify.com
SHOPIFY_API_VERSION=2024-01

# Etsy
ETSY_API_KEY=your-etsy-api-key
ETSY_API_SECRET=your-etsy-api-secret
ETSY_ACCESS_TOKEN=your-etsy-access-token
ETSY_SHOP_ID=your-shop-id

# =============================================================================
# PAYMENT INTEGRATION
# =============================================================================
# Stripe
STRIPE_API_KEY=sk_test_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# Subscription Plans
STRIPE_BASIC_PRICE_ID=price_basic_monthly
STRIPE_PRO_PRICE_ID=price_pro_monthly
STRIPE_MASTER_PRICE_ID=price_master_monthly

# Add-on Prices
DEEP_REPORT_STANDARD_PRICE=1000  # cents
DEEP_REPORT_PREMIUM_PRICE=3000   # cents
DEEP_REPORT_ENTERPRISE_PRICE=5000 # cents

# =============================================================================
# EXTERNAL DATA SOURCES
# =============================================================================
# Google Trends (via SerpAPI)
SERPAPI_KEY=your-serpapi-key

# TikTok Trends API
TIKTOK_API_KEY=your-tiktok-api-key
TIKTOK_API_SECRET=your-tiktok-api-secret

# World Bank Data API
WORLD_BANK_API_KEY=your-world-bank-api-key

# Census Data
CENSUS_API_KEY=your-census-api-key

# =============================================================================
# CLOUD STORAGE
# =============================================================================
# AWS S3 (or compatible)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
S3_BUCKET_NAME=commerce-intelligence-reports
S3_ENDPOINT_URL=https://s3.amazonaws.com  # or Supabase/Cloudflare R2 endpoint

# Supabase Storage (alternative)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
# SendGrid
SENDGRID_API_KEY=SG.your-sendgrid-api-key
EMAIL_FROM=noreply@commerce-intelligence.com
EMAIL_FROM_NAME=Commerce Intelligence Platform

# Email Templates
WELCOME_EMAIL_TEMPLATE_ID=d-welcome-template-id
FORECAST_COMPLETE_TEMPLATE_ID=d-forecast-complete-template-id
SUBSCRIPTION_TEMPLATE_ID=d-subscription-template-id

# =============================================================================
# BACKGROUND JOBS
# =============================================================================
# Celery
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true

# Task Timeouts
FORECAST_TASK_TIMEOUT=600  # seconds
REPORT_GENERATION_TIMEOUT=1800
DATA_SYNC_TIMEOUT=3600

# =============================================================================
# RATE LIMITING
# =============================================================================
# Per-tier limits (requests per minute)
RATE_LIMIT_BASIC=100
RATE_LIMIT_PRO=500
RATE_LIMIT_MASTER=2000
RATE_LIMIT_ADMIN=10000

# Global limits
RATE_LIMIT_ANONYMOUS=10
RATE_LIMIT_WINDOW=60  # seconds

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
# Sentry
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=1.0

# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Log Configuration
LOG_FILE_PATH=./logs/app.log
LOG_FILE_MAX_SIZE=10485760  # 10MB
LOG_FILE_BACKUP_COUNT=5
LOG_FORMAT=json  # json | text

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_MARKETPLACE_INTEGRATIONS=true
ENABLE_DEEP_REPORTS=true
ENABLE_OAUTH=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_WEBHOOKS=true
ENABLE_API_KEYS=true
ENABLE_ADMIN_PANEL=true

# Experimental Features
ENABLE_AI_CONTENT_GENERATION=true
ENABLE_PREDICTIVE_ANALYTICS=true
ENABLE_REALTIME_UPDATES=false

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ORIGINS=http://localhost:3000,https://your-domain.com
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOW_HEADERS=*

# =============================================================================
# DATA PROCESSING
# =============================================================================
# City Data
CITY_DATA_UPDATE_INTERVAL=86400  # seconds (24 hours)
MIN_CITY_POPULATION=50000
MAX_CITIES_PER_FORECAST=100

# Forecast Configuration
DEFAULT_FORECAST_HORIZON_MONTHS=12
MIN_DEMAND_SCORE_THRESHOLD=30
COMPETITION_WEIGHT=0.3
DEMAND_WEIGHT=0.4
PROFITABILITY_WEIGHT=0.3

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Database Seeding
SEED_USERS=true
SEED_CITIES=true
SEED_PRODUCTS=true

# Testing
TEST_DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/commerce_intelligence_test
TEST_OPENAI_API_KEY=sk-test-key

# Hot Reload
UVICORN_RELOAD=true
UVICORN_WORKERS=1

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================
# SSL/TLS
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/fullchain.pem
SSL_KEY_PATH=/etc/ssl/private/privkey.pem

# Security Headers
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000

# Performance
GUNICORN_WORKERS=4
GUNICORN_WORKER_CLASS=uvicorn.workers.UvicornWorker
GUNICORN_TIMEOUT=120

# Backup
DATABASE_BACKUP_ENABLED=true
DATABASE_BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# =============================================================================
# ANALYTICS
# =============================================================================
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX
MIXPANEL_TOKEN=your-mixpanel-token
AMPLITUDE_API_KEY=your-amplitude-key

# =============================================================================
# WEBHOOKS
# =============================================================================
WEBHOOK_SECRET=your-webhook-secret
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_TIMEOUT=10  # seconds
